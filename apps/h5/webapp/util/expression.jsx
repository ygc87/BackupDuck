let expressions  = {
  '[aini]':'/addons/theme/stv1/_static/image/expression/new/aini.png',
  '[aoman]':'/addons/theme/stv1/_static/image/expression/new/aoman.png',
  '[baiyan]':'/addons/theme/stv1/_static/image/expression/new/baiyan.png',
  '[baobao]':'/addons/theme/stv1/_static/image/expression/new/baobao.png',
  '[bishi]':'/addons/theme/stv1/_static/image/expression/new/bishi.png',
  '[bizui]':'/addons/theme/stv1/_static/image/expression/new/bizui.png',
  '[cahan]':'/addons/theme/stv1/_static/image/expression/new/cahan.png',
  '[chajing]':'/addons/theme/stv1/_static/image/expression/new/chajing.png',
  '[ciya]':'/addons/theme/stv1/_static/image/expression/new/ciya.png',
  '[dabian]':'/addons/theme/stv1/_static/image/expression/new/dabian.png',
  '[dabing]':'/addons/theme/stv1/_static/image/expression/new/dabing.png',
  '[daku]':'/addons/theme/stv1/_static/image/expression/new/daku.png',
  '[deyi]':'/addons/theme/stv1/_static/image/expression/new/deyi.png',
  '[fadai]':'/addons/theme/stv1/_static/image/expression/new/fadai.png',
  '[fanu]':'/addons/theme/stv1/_static/image/expression/new/fanu.png',
  '[fendou]':'/addons/theme/stv1/_static/image/expression/new/fendou.png',
  '[ganga]':'/addons/theme/stv1/_static/image/expression/new/ganga.png',
  '[gouyin]':'/addons/theme/stv1/_static/image/expression/new/gouyin.png',
  '[guzhang]':'/addons/theme/stv1/_static/image/expression/new/guzhang.png',
  '[haha]':'/addons/theme/stv1/_static/image/expression/new/haha.png',
  '[haixiu]':'/addons/theme/stv1/_static/image/expression/new/haixiu.png',
  '[haochi]':'/addons/theme/stv1/_static/image/expression/new/haochi.png',
  '[haqian]':'/addons/theme/stv1/_static/image/expression/new/haqian.png',
  '[huaixiao]':'/addons/theme/stv1/_static/image/expression/new/huaixiao.png',
  '[jingkong]':'/addons/theme/stv1/_static/image/expression/new/jingkong.png',
  '[jingya]':'/addons/theme/stv1/_static/image/expression/new/jingya.png',
  '[kafei]':'/addons/theme/stv1/_static/image/expression/new/kafei.png',
  '[keai]':'/addons/theme/stv1/_static/image/expression/new/keai.png',
  '[kelian]':'/addons/theme/stv1/_static/image/expression/new/kelian.png',
  '[ku]':'/addons/theme/stv1/_static/image/expression/new/ku.png',
  '[kuaikule]':'/addons/theme/stv1/_static/image/expression/new/kuaikule.png',
  '[kulou]':'/addons/theme/stv1/_static/image/expression/new/kulou.png',
  '[kun]':'/addons/theme/stv1/_static/image/expression/new/kun.png',
  '[lanqiu]':'/addons/theme/stv1/_static/image/expression/new/lanqiu.png',
  '[lenghan]':'/addons/theme/stv1/_static/image/expression/new/lenghan.png',
  '[liuhan]':'/addons/theme/stv1/_static/image/expression/new/liuhan.png',
  '[liulei]':'/addons/theme/stv1/_static/image/expression/new/liulei.png',
  '[ma]':'/addons/theme/stv1/_static/image/expression/new/ma.png',
  '[nanguo]':'/addons/theme/stv1/_static/image/expression/new/nanguo.png',
  '[no]':'/addons/theme/stv1/_static/image/expression/new/no.png',
  '[ok]':'/addons/theme/stv1/_static/image/expression/new/ok.png',
  '[peifu]':'/addons/theme/stv1/_static/image/expression/new/peifu.png',
  '[pingpang]':'/addons/theme/stv1/_static/image/expression/new/pingpang.png',
  '[pizui]':'/addons/theme/stv1/_static/image/expression/new/pizui.png',
  '[qiang]':'/addons/theme/stv1/_static/image/expression/new/qiang.png',
  '[qiaoda]':'/addons/theme/stv1/_static/image/expression/new/qiaoda.png',
  '[qinqin]':'/addons/theme/stv1/_static/image/expression/new/qinqin.png',
  '[qioudale]':'/addons/theme/stv1/_static/image/expression/new/qioudale.png',
  '[ruo]':'/addons/theme/stv1/_static/image/expression/new/ruo.png',
  '[se]':'/addons/theme/stv1/_static/image/expression/new/se.png',
  '[shuai]':'/addons/theme/stv1/_static/image/expression/new/shuai.png',
  '[shuijiao]':'/addons/theme/stv1/_static/image/expression/new/shuijiao.png',
  '[tiaopi]':'/addons/theme/stv1/_static/image/expression/new/tiaopi.png',
  '[touxiao]':'/addons/theme/stv1/_static/image/expression/new/touxiao.png',
  '[tu]':'/addons/theme/stv1/_static/image/expression/new/tu.png',
  '[wabi]':'/addons/theme/stv1/_static/image/expression/new/wabi.png',
  '[weiqu]':'/addons/theme/stv1/_static/image/expression/new/weiqu.png',
  '[weixiao]':'/addons/theme/stv1/_static/image/expression/new/weixiao.png',
  '[woquan]':'/addons/theme/stv1/_static/image/expression/new/woquan.png',
  '[woshou]':'/addons/theme/stv1/_static/image/expression/new/woshou.png',
  '[xia]':'/addons/theme/stv1/_static/image/expression/new/xia.png',
  '[xu]':'/addons/theme/stv1/_static/image/expression/new/xu.png',
  '[yeah]':'/addons/theme/stv1/_static/image/expression/new/yeah.png',
  '[yinxian]':'/addons/theme/stv1/_static/image/expression/new/yinxian.png',
  '[yiwen]':'/addons/theme/stv1/_static/image/expression/new/yiwen.png',
  '[youhengheng]':'/addons/theme/stv1/_static/image/expression/new/youhengheng.png',
  '[yueliang]':'/addons/theme/stv1/_static/image/expression/new/yueliang.png',
  '[yun]':'/addons/theme/stv1/_static/image/expression/new/yun.png',
  '[zaijian]':'/addons/theme/stv1/_static/image/expression/new/zaijian.png',
  '[zhemo]':'/addons/theme/stv1/_static/image/expression/new/zhemo.png',
  '[zhu]':'/addons/theme/stv1/_static/image/expression/new/zhu.png',
  '[zhuakuang]':'/addons/theme/stv1/_static/image/expression/new/zhuakuang.png',
  '[zuohengheng]':'/addons/theme/stv1/_static/image/expression/new/zuohengheng.png',
};

class Expression
{
  constructor(root) {
    this.root = root;
    for (let name in expressions) {
      expressions[name] = this.root + expressions[name];
    }
  }

  getAll() {
    return expressions;
  }

  getItem(name) {
    if (expressions.hasOwnProperty(name)) {
      return expressions[name];
    }
    return null;
  }

  buildDOM(content, callHandle, path) {
    if (typeof content.map == 'function') {
      let q = [];
      content.forEach((val, index) => {
        if (index > 0 && index < content.length && path) {
          q.push(callHandle(path));
        }
        q.push(this.buildDOM(val, callHandle));
      });
      return q;
    }

    if (typeof content == 'string') {
      for (let key in expressions) {
        var s = content.split(key);
        if (s.length > 1) {
          return this.buildDOM(s, callHandle, expressions[key]);
        }
        s = s[0];
      }
      return s;
    }

    return content;
  }

}

export default new Expression(TS.ROOT)